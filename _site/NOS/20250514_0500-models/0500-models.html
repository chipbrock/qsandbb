<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="description" content="‚ÑπÔ∏è README: I‚Äôve thought about this a lot. We have an idea of what a theory is, but do we directly test a theory? I don‚Äôt think so. I think we make models following the rules and suggestions of a theory and we then test the model. I‚Äôll try to explain why. Beware that this may be controversial‚Ä¶it‚Äôs my idea that may not have occurred to others unless they‚Äôve been condemned to this dual life that I have of both a scientific and philosophical education. It‚Äôs a living, but it‚Äôs not easy.">

<title>5.00 models ‚Äì  Quarks, Spacetime, and the Big Bang</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-a185852c63625fd9ffbdc57047c9a77e.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-fadd5e536f8f94203d60e091fc5cb486.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title"><img src="../../images/logo_orange_words.png" class="site-logo"> Quarks, Spacetime, and the Big Bang</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../QSBB.html"> 
<span class="menu-text">üëâ start</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../stories.html"> 
<span class="menu-text">recent</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../trigger.html"> 
<span class="menu-text">theory?</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-topics" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">topics</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-topics">    
        <li>
    <a class="dropdown-item" href="../../NOS/index.html">
 <span class="dropdown-text">Nature of Science</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Words/index.qmd">
 <span class="dropdown-text">words</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../particle-bios/index.html">
 <span class="dropdown-text">Particle Bios</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../feynman-diagrams/index.html">
 <span class="dropdown-text">Feynman Diagrams</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../math/index.html">
 <span class="dropdown-text">Math Review</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Words/index.qmd">
 <span class="dropdown-text">words</span></a>
  </li>  
    </ul>
  </li>
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#it-is-not-possible-to-test-a-theory.-we-test-models." id="toc-it-is-not-possible-to-test-a-theory.-we-test-models." class="nav-link active" data-scroll-target="#it-is-not-possible-to-test-a-theory.-we-test-models."><span class="header-section-number">1</span> It is not possible to test a theory. We test models.</a>
  <ul class="collapse">
  <li><a href="#planes-trains-and-automobiles-models" id="toc-planes-trains-and-automobiles-models" class="nav-link" data-scroll-target="#planes-trains-and-automobiles-models"><span class="header-section-number">1.1</span> Planes, Trains, and Automobiles: Models</a></li>
  <li><a href="#memory-medicine-confirmation-and-disconfirmation" id="toc-memory-medicine-confirmation-and-disconfirmation" class="nav-link" data-scroll-target="#memory-medicine-confirmation-and-disconfirmation"><span class="header-section-number">1.2</span> Memory Medicine: Confirmation and Disconfirmation</a></li>
  <li><a href="#laziness-belief" id="toc-laziness-belief" class="nav-link" data-scroll-target="#laziness-belief"><span class="header-section-number">1.3</span> Laziness: Belief</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">5.00 models</h1>
  <div class="quarto-categories">
    <div class="quarto-category">NOS</div>
    <div class="quarto-category">draft</div>
  </div>
  </div>

<div>
  <div class="description">
    ‚ÑπÔ∏è <strong>README:</strong> I‚Äôve thought about this a lot. We have an idea of what a theory is, but do we directly test a theory? I don‚Äôt think so. I think we make models following the rules and suggestions of a theory and we then test the model. I‚Äôll try to explain why. Beware that this may be controversial‚Ä¶it‚Äôs my idea that may not have occurred to others unless they‚Äôve been condemned to this dual life that I have of both a scientific and philosophical education. It‚Äôs a living, but it‚Äôs not easy.
  </div>
</div>


<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="breadcrumb">
<p><a href="../../stories.html">Stories</a> &gt; TOC Nos &gt; <strong>models</strong></p>
</div>
<div class="post-nav">
<p>üëà <a href="../20250514_0400-proof/0400-proof.html">Previous: 4.00 proof</a> | <a href="../20250514_0600-reality/0600-reality.html">Next: 6.00 reality</a> üëâ</p>
</div>
<div style="font-size:0.85em; color:#555; margin-top:0.5em;">
<p>Author: Chip Brock ¬∑ Published: May 14, 2025</p>
</div>
<hr>

<div class="no-row-height column-margin column-container"><div class="">
<p><img src="model.png" class="img-fluid" width="120"></p>
</div></div><section id="it-is-not-possible-to-test-a-theory.-we-test-models." class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="it-is-not-possible-to-test-a-theory.-we-test-models."><span class="header-section-number">1</span> It is not possible to test a theory. We test models.</h2>
<p>I‚Äôve discarded Laws and truth and proof and so it‚Äôs time to confront the idea of a theory and how we can trust one or not. ‚ÄúWhat is a theory,‚Äù is a valid question.</p>
<section id="planes-trains-and-automobiles-models" class="level3" data-number="1.1">
<h3 data-number="1.1" class="anchored" data-anchor-id="planes-trains-and-automobiles-models"><span class="header-section-number">1.1</span> Planes, Trains, and Automobiles: Models</h3>
<p>When I was a kid, I was consumed by models of cars‚Äî ‚Äúhot rods‚Äù of the 1960s. And airplanes. And HO train sets. In short, life-like replicas of transportation tools were my passion when I wasn‚Äôt playing or watching baseball.</p>
<p>A plastic model stands for‚Äîrepresents‚Äîa real thing in the world, not perfectly, but well enough to complete a mission. In my case, that mission was a 13 year old boy imagining the car that he‚Äôd work on and own some day. If my plastic 1967 Chevy with baby moon wheels, GM 350 cubes with aluminum heads, Edelbrock intake manifold, Holley 4bbl, HPC Coated Headers w/Dual Exhaust, painted baby blue was made more and more precise, it would eventually become‚Ä¶a real car.</p>
<p>chevybox.png intage Revell model ‚Äô57 Chevy. In the box.</p>
<p>I‚Äôve been careful in what I wrote in other posts to do two things. First, I referred to scientific <strong>statements</strong> and <strong>models</strong> of nature. Gone are the days when a physicist can construct a mathematical description of say a block of wood sliding down a plane of wood and proudly proclaim that what‚Äôs written in symbols on paper is a 1:1 faithful reproduction of what happens in the laboratory.</p>
<p>Now we operate from a more hazy, removed vantage point. As we consider electric and magnetic fields, relativity, and quantum mechanics the correspondence between a mathematical description and what nature is supposed to be like will become necessarily more indirect and abstract.</p>
<p>I now tend to think of a theory as a broad <strong>framework</strong> within which there are many ways to address nature from within the framework. But what we don‚Äôt do is test the theory, rather we build mathematical models that use the rules (from within the framework) of a theory to address a particular, well-defined piece of nature with predictions. Then experiments are done to test the model, not the theory.</p>
<p>Let‚Äôs pick on Special Relativity again. I can tell you the Theory of Relativity in these three lines:</p>
<ol type="1">
<li>The rules of physics are the same in all inertial frames of reference.</li>
<li>The speed of light is the same in all inertial frames of reference.</li>
<li>The interval between two spacetime events is Minkowskian.</li>
</ol>
<p>The first two statements are called the Postulates of Relativity and the last statement is a consequence of the mathematization of the theory in geometry.</p>
<p>This is the Theory of Relativity‚Ä¶the framework within which any scientific statement must fit. You don‚Äôt need to understand what these sentences mean, but you can surely see that they don‚Äôt contain a single mathematic equation. That‚Äôs where the models come in.</p>
<p>In my way of thinking, a mathematical model of nature is a little machine that you run to a result at the end when you add some information at the beginning. The result can be, and usually is, the prediction of what an experiment would find. That result can also be another equation, distilled from input equations.</p>
<p>We will use the Theory of Relativity quite a bit, but our confrontation with nature will be through models that are built within the framework of the Theory of Relativity.</p>
<p>An important aspect of a model is that it must respect a possible measurement‚Äôs capabilities. A model is not meant to be a 1:1 representation of nature, just like the model car is not a real car. It‚Äôs a limited representation that can be tested. Here‚Äôs what I mean.</p>
<p>I can create a model for how fast a block will move across a table if it‚Äôs pushed with a given force. If that‚Äôs all I want to know, that‚Äôs a pretty easy thing to predict. But notice that it‚Äôs not the whole story of what goes on. The table and the block heat up and so energy is lost to the warming air. There are billions of little, complex atomic bonds between the under-surface of the block and the table-top. There‚Äôs a lot of physics involved in describing this event and how much detail I include in the model depends on a) <em>what I want to know</em> from my measurement and b) <em>how well I need to know</em> it. My model could include all of those thermodynamic and atomic effects but I wouldn‚Äôt include them if I can‚Äôt measure the speed very precisely.</p>
<p>Physicists learn to stick to the Goldilocks Rule of Modeling. A model can‚Äôt be too crude and a model can‚Äôt be too precise‚Ä¶a model needs to be Just Right.</p>
<p>To summarize:</p>
<ul>
<li>accept a theory and its rules; build mathematical models within the theory to represent nature (but not in a 1:1 sense);</li>
<li>make predictions from those models and test them in experiments;</li>
<li>accept or reject the model based on the results of the experiments.</li>
</ul>
<p>That‚Äôs the game that I‚Äôve played for four decades in which I‚Äôve never left the theory of quantum mechanics, the theory of special relativity, nor the theory of general relativity‚Ä¶but I‚Äôve tested lots of models.</p>
<section id="statements" class="level4" data-number="1.1.1">
<h4 data-number="1.1.1" class="anchored" data-anchor-id="statements"><span class="header-section-number">1.1.1</span> Statements</h4>
<p>It‚Äôs a detail, but an important one. We cannot test nature directly. We can only assess the truth or falsity only of statements. This reflects a remoteness of a scientist relative to nature itself. So a prediction and a test of that prediction is really testing statements and not theories and not nature. I confess this is hard to appreciate and I can probably argue even with myself about it.</p>
<p>painting.png <em>In some ways, what an artist does when she paints a landscape is make a model of it. Representation theory is a serious part of ‚ÄúSemiotics‚Äù which is a sophisticated discipline in philosophy, linguistics, and aesthetics.</em></p>
</section>
</section>
<section id="memory-medicine-confirmation-and-disconfirmation" class="level3" data-number="1.2">
<h3 data-number="1.2" class="anchored" data-anchor-id="memory-medicine-confirmation-and-disconfirmation"><span class="header-section-number">1.2</span> Memory Medicine: Confirmation and Disconfirmation</h3>
<p>In my car I just heard an advertisement for a supplement that would make me remember things better. (I don‚Äôt remember its name‚Ä¶see what I did there?) It apparently has been ‚Äúproven‚Äù to be effective. Well, by now you know my problems with that word, but what is it that scientists can actually say about a model and indirectly, the theory framework within which it functions?</p>
<p>The black squirrel issue makes it clear that proving, beyond a shadow of a doubt, that an inductive model is true is risky and historically unproductive.</p>
<ul>
<li>The word that we use when evidence supports a model‚Äôs prediction is ‚Äú<em>confirm</em>‚Äù‚Ä¶the model‚Äôs prediction is <em>confirmed</em>, definately not ‚Äúproved.‚Äù</li>
<li>The word we use when a model‚Äôs prediction is contradicted is ‚Äúdisconfirmed.‚Äù</li>
<li>The burden of any model is that it must be ‚Äúfalsifiable‚Äù or in principle be disconfirmable.</li>
</ul>
<p>A couple of notes. ‚ÄúConfirm‚Äù is weaker than prove, leaving us the necessary freedom to allow that evidence can change our models and even theories. Those theories that I keep saying we trust? They have been confirmed many, many times. (It‚Äôs fair to think that maybe a Law is just a really, well-confirmed theory. But I‚Äôm fighting that older picture of Newtonian-like Laws.)</p>
<p>That last bullet is important and has a special place in the Philosophy of Science‚Äîand is the center of a couple of serious arguments in my fields of physics right now.</p>
<blockquote class="blockquote">
<p>You might have heard some of this in the news and the falsifiability test of a theory (the word used then) is attributed to the philosopher, <strong>Karl Popper</strong>. He thought this was a worthy goal of science because showing something to be wrong is actually a deductive process, the inverse of showing that something agrees.</p>
</blockquote>
<p>To a Popperian (my pejorative word) a single instance of disconfirmation should eliminate a model from study (they would say ‚Äútheory‚Äù). A single black squirrel? That‚Äôs nice sounding, but not how science actually works and is philosophically troublesome (ask Mr Google about the Duhem‚ÄìQuine thesis)‚Äìthat black squirrel could have just been in a dust-bin.</p>
<blockquote class="blockquote">
<p>The requirement of falsifiability as a standard required of science has pretty much stuck with us.</p>
</blockquote>
<p>Can you see how this in-principle falsifiability requirement actually feeds my original assertion above about how to tell if a statement is scientific or not? The latter is just a simpler version of the former.</p>
<p>The bottom line here is this:</p>
<p class="pullquote">
The burden on science is not to prove things about nature, but to confirm or disconfirm statements about nature.
</p>
<p>In QS&amp;BB, we‚Äôll watch revolutions in science that create large frameworks in which models are tested, rejected, and accepted. These frameworks I will call <em>theories</em> and I can list them for you:</p>
<ol type="1">
<li>Newton‚Äôs laws of motion (remember?)</li>
<li>Newton‚Äôs law of Gravitation</li>
<li>Maxwell‚Äôs Theory of Electromagnetism</li>
<li>Quantum Mechanics</li>
<li>Special Relativity Theory</li>
<li>The General Theory of Relativity</li>
</ol>
<p>In my picture, there are not many theories in physics.</p>
<p>Other topics like the big bang? quarks? nuclear physics? the standard model of particle physics? These are all models within the currently acceptable theories (frameworks) of 4, 5, and 6 above. Numbers 1 and 2? They‚Äôve been replaced!</p>
</section>
<section id="laziness-belief" class="level3" data-number="1.3">
<h3 data-number="1.3" class="anchored" data-anchor-id="laziness-belief"><span class="header-section-number">1.3</span> Laziness: Belief</h3>
<p>One more word that both has no place in science but is one of those words we use all the time: <strong>Belief.</strong> We all talk about what we believe (and don‚Äôt), and scientists will sometimes colloquially do that in a scientific context, but that‚Äôs sloppy. When I say ‚ÄúI believe in X,‚Äù what I really mean is that that job that word does is act as a shorthand for the sentence: ‚ÄúX is highly confirmed by experiments and X is likely to survive foreseeable experimental tests if asked.‚Äù If I‚Äôm an expert in the field of X, then I have the obligation to describe those experimental tests. If I‚Äôm not an expert in X and I want to echo an expert‚Äôs ‚Äúbelief,‚Äù I should expect that expert could also enumerate its experimental successes in detail on my behalf. (That‚Äôs a little tricky.)</p>
<p>There are dos and don‚Äôts here for scientists (and students of science). When it comes to belief in a scientific statement, I can‚Äôt do three things:</p>
<ol type="1">
<li>I can‚Äôt say that I believe in X because I want to,</li>
<li>I can‚Äôt say that I believe in X because my gut or a ‚Äúfeeling‚Äù suggests that I should, and</li>
<li>I can‚Äôt say that I believe in X because just because a non-expert or an authoritative text tells me to. Likewise, I can‚Äôt say that I <em>don‚Äôt</em> believe in X for any of those same three reasons</li>
</ol>
<hr>
<div class="post-nav">
<p>üëà <a href="../20250514_0400-proof/0400-proof.html">Previous: 4.00 proof</a> | <a href="../20250514_0600-reality/0600-reality.html">Next: 6.00 reality</a> üëâ</p>
</div>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "Óßã";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>